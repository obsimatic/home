import{s as f}from"./bundle-cart-Ca7pvTzF.js";import{S as g}from"./bundle-searchEngine-B6p1lMZz.js";import{f as h}from"./bundle-urlFormatter-YyBz8RD3.js";let u=null;document.addEventListener("astro:page-load",()=>{const n=document.getElementById("header-cart-btn");if(document.querySelector(".cart-count"),n){const a=n.cloneNode(!0);n.parentNode?.replaceChild(a,n),a.addEventListener("click",t=>{t.preventDefault(),document.dispatchEvent(new CustomEvent("open-cart"))})}u&&u(),u=f(a=>{const t=document.querySelector(".cart-count");if(t){const l=a.reduce((o,c)=>o+c.quantity,0);t.textContent=l.toString(),l>0?t.classList.add("visible"):t.classList.remove("visible")}})});document.addEventListener("astro:page-load",async()=>{const n=g.getInstance(),a=document.documentElement.lang||"tr";function t(o,c){const s=document.querySelector(o),e=document.getElementById(c),d=s?.closest("form");!s||!e||(d?.addEventListener("submit",r=>{if(window.location.pathname.includes("/arama")){r.preventDefault();const i=s.value.trim();document.dispatchEvent(new CustomEvent("search-query-changed",{detail:i})),e.classList.remove("active")}}),s.addEventListener("focus",()=>n.init()),s.addEventListener("input",async r=>{const i=r.target.value.trim();if(!i){e.classList.remove("active");return}await n.init();const p={q:i,brand:[],inStock:!1,contactPrice:!1,minPrice:0,maxPrice:1/0},m=n.search(p),v=[...m.categories.slice(0,2),...m.products.slice(0,8)];l(v,e)}),document.addEventListener("click",r=>{!s.contains(r.target)&&!e.contains(r.target)&&e.classList.remove("active")}))}function l(o,c){if(o.length===0){c.classList.remove("active");return}const s=a==="tr"?"":`/${a}`;c.innerHTML=o.map(e=>{const d=e[`title_${a}`]||e.title_tr||e.id,r=e.type==="category"?`${s}/${h(e.id)}`:`${s}/${e.id}`,i=e.type==="category";return`
          <a href="${r}" class="search-result-item ${i?"category-item":""}">
            <div class="search-result-info">
              <span class="search-result-id">${e.id}</span>
              <span class="search-result-title">${d}</span>
            </div>
            ${i?'<span class="type-badge">Category</span>':""}
          </a>
        `}).join(""),c.classList.add("active")}t('.header-search.desktop-search input[name="q"]',"headerSearchResultsDesktop"),t('.mobile-search input[name="q"]',"headerSearchResultsMobile")});
